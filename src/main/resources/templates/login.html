<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    
    <title>Sistema de Reuniao</title>
	
	<div th:replace="fragments/header :: header-css"/>
	
	<script js>
	  $("#btnLogin").click(function(event) {

	    //Fetch form to apply custom Bootstrap validation
	    var form = $("#formLogin")

	    if (form[0].checkValidity() === false) {
	      event.preventDefault()
	      event.stopPropagation()
	    }
	    
	    form.addClass('was-validated');
	  });
	</script>
		
	<title>Login</title> 	
</head>
<body class="bodyLogin">
 <section class="login-block">
    <div class="container">
		<div class="row">
			<div class="col-md-4 login-sec">
				<div class="sgr">Sistema de Gerenciamento de Reuniões</div>
		    	<img src="/imagens/logo4.png">
		    		<!-- <form role="form" autocomplete="off" id="formLogin" novalidate="" action="#" th:action="@{/}" method="POST">  -->
		    		<form role="form" id="formLogin" novalidate="" action="#" th:action="@{/}" method="POST">
  
			  			  <span th:if="${param.error}" class="alert alert-danger">						
							<span th:text="${session.SPRING_SECURITY_LAST_EXCEPTION.message}"></span>
						  </span>
											
						  <span th:if="${param.logout}" class="alert alert-succes">						
							<span th:text="Usuário efetuou log out do sistema."></span>
						  </span>
			  
						  <div class="form-group">
						   	<label for="input-usuario">Login</label>
			                <input type="email" class="form-control form-control-lg rounded-0" name="username" id="input-usuario" required placeholder="Utilize o email como login...">
			                <div class="invalid-feedback">Login inválido.</div>   
						  </div>
						  <div class="form-group">
						  	<label for="input-senha">Senha</label>
			                <input type="password" class="form-control form-control-lg rounded-0" name="password" id="input-senha" required autocomplete="new-password" placeholder="Insira a senha">
			                <div class="invalid-feedback">Senha inválida!</div>
						  </div>
						  <div align="center">
			                  <label class="custom-control custom-checkbox">
			                  <input id="remember" type="checkbox" name="remember-me" value="true">
			                  <span class="custom-control-indicator"></span>
			                  <span class="custom-control-description small text-dark">  Lembre-me neste computador</span>
			                </label>
			             </div>	 
			             <div align="center">   
			             <br>     
			             <button type="submit" class="btn btn-success" id="btnLogin"><span class="glyphicon glyphicon-log-in" ><br>Logar</button>
			              </div>
			                    <!--  LEIA SOBRE CSRF AQUI
							 	https://docs.spring.io/spring-security/site/docs/current/reference/html/csrf.html -->   	
						 <input type="hidden" th:name="${_csrf.parameterName}" th:value="${_csrf.token}"/>
			  
				    </form>
		</div>
		<div class="col-md-8 banner-sec">
	    	<div id="carouselExampleIndicators" class="carousel slide" data-ride="carousel">
	        	<ol class="carousel-indicators">
	            	<li data-target="#carouselExampleIndicators" data-slide-to="0" class="active"></li>
	                <li data-target="#carouselExampleIndicators" data-slide-to="1"></li>
	            </ol>
	            <div class="carousel-inner" role="listbox">
				    <div class="carousel-item active">
				      <img class="d-block img-fluid" src="/imagens/reuniao.jpg" alt="First slide">
				      <div class="carousel-caption d-none d-md-block"></div>		  	  
				    </div>
				    <div class="carousel-item">
				      <img class="d-block img-fluid" src="https://images.pexels.com/photos/872957/pexels-photo-872957.jpeg" alt="First slide">
				  </div>
	            </div>	   	    
			</div>
	    </div>
		</div>
	</div>
</section>
 	<div class="copy-text" align="center">
		<footer class="blockquote-footer">					
			<cite title="Source Title">© 2018 Desenvolvido por Pablo L. Flores e Tiago Marins</cite>          
		</footer> 
	</div>
</body>
</html>